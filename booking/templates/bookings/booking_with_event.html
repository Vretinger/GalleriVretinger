{% load static %}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<div class="container my-4">
    <h2>Create Booking & Event</h2>
    <form method="post" enctype="multipart/form-data" class="mb-5" id="bookingForm">
        {% csrf_token %}
        {{ form.non_field_errors }}

        {% for field in form %}
        <div class="mb-3">
            {{ field.label_tag }} 
            {{ field }}
            {% for error in field.errors %}
            <div class="text-danger">{{ error }}</div>
            {% endfor %}
        </div>
        {% endfor %}

        <div id="extra-images-container" class="mb-3">
            <!-- Extra images will be appended here -->
        </div>
        <button type="button" class="btn btn-secondary mb-3" id="addImageBtn">Add Another Image</button>

        <button type="submit" class="btn btn-primary">Submit Booking</button>
    </form>

    <hr>
    <h3>Preview</h3>
    <div id="preview-container" class="border" style="width: 100%; height: 70vh; overflow: auto;">
        <div id="preview-inner" class="d-flex w-100 h-100 p-3" style="flex-wrap: wrap; align-items: flex-start;">
            <div id="preview-images" class="d-flex flex-wrap gap-2"></div>
            <div class="ms-3">
                <h4 id="preview-title"></h4>
                <p id="preview-description"></p>
            </div>
        </div>
    </div>
</div>

<script src="{% static 'js/booking_preview.js' %}"></script>